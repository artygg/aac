<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Class Attendance</title>
    <link rel="stylesheet" href="css/class-attendance.css" type="text/css">
</head>
<body>
<header>
    <div class="holder">
        <img class="dots" src="img/dots.png" alt="dots">
        <a href="">&larr; Go back</a>
    </div>
    <img class="logo" src="img/aas-logo.png" alt="logo">
</header>
<div class="main-part">
    <div class="main-header">
        <h1>Course name</h1>
    </div>
    <div class="class-description">
        <div class="top-class-description">
            <p>Class name</p>
            <p>Date</p>
        </div>
        <div class="bottom-class-description">
            <p>Class has started</p>
            <p>Time of the class - 00:00:00</p>
        </div>
    </div>
    <table>
        <thead>
        <tr>
            <th>Student ID</th>
            <th>First name</th>
            <th>Last name</th>
            <th>Presence</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>5357608</td>
            <td>Fjodor</td>
            <td>Smorodins</td>
            <td>Present</td>
        </tr>
        <tr>
            <td>5357608</td>
            <td>Fjodor</td>
            <td>Smorodins</td>
            <td>Excused</td>
        </tr>
        <tr>
            <td>5357608</td>
            <td>Fjodor</td>
            <td>Smorodins</td>
            <td><a href="">Mark excuse</a></td>
        </tr>
        <tr>
            <td>5357608</td>
            <td>Fjodor</td>
            <td>Smorodins</td>
            <td><a href="">Mark excuse</a></td>
        </tr>
        </tbody>
    </table>
    <div class="button-area">
        <input type="submit" value="End checking prematurely" name="end_checking_prematurely" id="end_checking_prematurely" class="test">
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const endCheckingButton = document.getElementById('end_checking_prematurely');

        // Add event listener to the "End checking prematurely" button
        endCheckingButton.addEventListener('click', function() {
            const table = document.querySelector('table');
            const rows = table.getElementsByTagName('tr');

            // Loop through each row in the table body
            for (let i = 1; i < rows.length; i++) {
                const presenceCell = rows[i].getElementsByTagName('td')[3];

                // Check if the cell contains "Mark excuse"
                if (presenceCell && presenceCell.innerText.trim() === 'Mark excuse') {
                    // Change text to "Absent"
                    presenceCell.innerText = 'Absent';

                    // Change background color to red
                    presenceCell.style.backgroundColor = '#FF5733'; // Red color
                }
            }

            // Change button text to "Save results"
            endCheckingButton.value = 'Save results';

            // Change button action to redirect to course_overview.html
            endCheckingButton.onclick = function() {
                window.location.href = 'course_overview.html';
            };
        });
    });
</script>
</body>
</html>

